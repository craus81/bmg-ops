(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7068:function(e,t,n){Promise.resolve().then(n.bind(n,8991))},8991:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(7437),o=n(2265),r=n(4754);function a(){let[e,t]=(0,o.useState)(""),[n,a]=(0,o.useState)(""),[s,d]=(0,o.useState)("password"),[l,p]=(0,o.useState)(!1),[c,x]=(0,o.useState)(""),[g,u]=(0,o.useState)(!1),f=(0,r.e)(),h=async t=>{if(t.preventDefault(),!e)return;u(!0),x("");let{error:n}=await f.auth.signInWithOtp({email:e,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});u(!1),n?x(n.message):p(!0)},b=async t=>{if(t.preventDefault(),!e||!n)return;u(!0),x("");let{error:i}=await f.auth.signInWithPassword({email:e,password:n});u(!1),i?x(i.message):window.location.href="/home"};return(0,i.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"#0f1720"},children:(0,i.jsxs)("div",{style:{width:"100%",maxWidth:"360px"},children:[(0,i.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,i.jsx)("div",{style:{width:"56px",height:"56px",borderRadius:"14px",background:"linear-gradient(135deg, #3b82f6, #1d4ed8)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:800,fontSize:"16px",color:"#fff",margin:"0 auto 12px"},children:"BMG"}),(0,i.jsx)("h1",{style:{fontSize:"22px",fontWeight:800,color:"#e8ecf1"},children:"BMG Ops"}),(0,i.jsx)("p",{style:{fontSize:"13px",color:"#4a5f78",marginTop:"4px"},children:"Fleet Graphics Operations"})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"4px",marginBottom:"16px",background:"#141e2b",borderRadius:"8px",padding:"3px"},children:[(0,i.jsx)("button",{onClick:()=>{d("password"),x("")},style:{flex:1,padding:"8px",borderRadius:"6px",fontSize:"12px",fontWeight:700,background:"password"===s?"rgba(59,130,246,0.15)":"transparent",border:"none",color:"password"===s?"#60a5fa":"#4a5f78"},children:"Password"}),(0,i.jsx)("button",{onClick:()=>{d("magic"),x("")},style:{flex:1,padding:"8px",borderRadius:"6px",fontSize:"12px",fontWeight:700,background:"magic"===s?"rgba(59,130,246,0.15)":"transparent",border:"none",color:"magic"===s?"#60a5fa":"#4a5f78"},children:"Magic Link"})]}),l?(0,i.jsxs)("div",{style:{background:"rgba(34,197,94,0.08)",border:"1px solid rgba(34,197,94,0.25)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[(0,i.jsx)("div",{style:{fontSize:"32px",marginBottom:"8px"},children:"\uD83D\uDCE7"}),(0,i.jsx)("div",{style:{fontWeight:700,fontSize:"15px",color:"#4ade80"},children:"Check your email"}),(0,i.jsxs)("div",{style:{fontSize:"13px",color:"#6b7a8d",marginTop:"6px"},children:["We sent a sign-in link to ",(0,i.jsx)("strong",{style:{color:"#e8ecf1"},children:e})]}),(0,i.jsx)("div",{style:{fontSize:"12px",color:"#4a5f78",marginTop:"12px"},children:"Tap the link in the email to sign in. Check spam if you don't see it."}),(0,i.jsx)("button",{onClick:()=>{p(!1),t("")},style:{marginTop:"16px",padding:"8px 16px",borderRadius:"8px",border:"1px solid #1e2d3d",color:"#6b7a8d",fontSize:"13px",fontWeight:600,cursor:"pointer",background:"transparent"},children:"Use a different email"})]}):(0,i.jsxs)("form",{onSubmit:"password"===s?b:h,children:[(0,i.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"11px",fontWeight:700,color:"#4a5f78",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},children:"Email Address"}),(0,i.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"you@bmgfleet.com",autoFocus:!0,autoComplete:"email",style:{width:"100%",padding:"14px 16px",borderRadius:"10px",border:"1px solid #1e2d3d",background:"#141e2b",color:"#e8ecf1",fontSize:"16px"}})]}),"password"===s&&(0,i.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"11px",fontWeight:700,color:"#4a5f78",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},children:"Password"}),(0,i.jsx)("input",{type:"password",value:n,onChange:e=>a(e.target.value),placeholder:"Enter your password",autoComplete:"current-password",style:{width:"100%",padding:"14px 16px",borderRadius:"10px",border:"1px solid #1e2d3d",background:"#141e2b",color:"#e8ecf1",fontSize:"16px"}})]}),c&&(0,i.jsx)("div",{style:{padding:"8px 12px",background:"rgba(239,68,68,0.06)",border:"1px solid rgba(239,68,68,0.2)",borderRadius:"8px",color:"#f87171",fontSize:"12px",marginBottom:"12px"},children:c}),(0,i.jsx)("button",{type:"submit",disabled:!e||"password"===s&&!n||g,style:{width:"100%",padding:"14px",borderRadius:"10px",background:"#3b82f6",color:"#fff",fontSize:"15px",fontWeight:700,opacity:e&&("magic"===s||n)&&!g?1:.5},children:g?"Signing in...":"password"===s?"Sign In":"Send Magic Link"}),(0,i.jsx)("p",{style:{textAlign:"center",fontSize:"12px",color:"#4a5f78",marginTop:"16px"},children:"password"===s?"Contact admin if you need a password reset":"No password needed â€” we'll email you a sign-in link"})]})]})})}},4754:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});var i=n(4033),o=n(257);function r(){return(0,i.createBrowserClient)(o.env.NEXT_PUBLIC_SUPABASE_URL,o.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}}},function(e){e.O(0,[368,971,117,744],function(){return e(e.s=7068)}),_N_E=e.O()}]);